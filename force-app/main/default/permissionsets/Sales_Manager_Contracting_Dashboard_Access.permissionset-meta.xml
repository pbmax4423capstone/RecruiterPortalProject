<?xml version="1.0" encoding="UTF-8"?>
<PermissionSet xmlns="http://soap.sforce.com/2006/04/metadata">
    <description>Grants Sales Managers access to view their Career candidates, activity history, notes, and contracting pipeline. Includes access to Candidate records, ALC records, Tasks, Events, and ContentNotes for full candidate management capabilities.</description>
    <hasActivationRequired>false</hasActivationRequired>
    <label>Sales Manager Contracting Dashboard Access</label>
    
    <!-- Apex Class Access -->
    <classAccesses>
        <apexClass>CandidateActivityController</apexClass>
        <enabled>true</enabled>
    </classAccesses>
    <classAccesses>
        <apexClass>CandidateNotesController</apexClass>
        <enabled>true</enabled>
    </classAccesses>
    <classAccesses>
        <apexClass>CandidatesInContractingController</apexClass>
        <enabled>true</enabled>
    </classAccesses>
    <classAccesses>
        <apexClass>UnifiedDashboardController</apexClass>
        <enabled>true</enabled>
    </classAccesses>
    <classAccesses>
        <apexClass>UnifiedDashboardController_Test</apexClass>
        <enabled>true</enabled>
    </classAccesses>
    
    <!-- Custom Metadata Type Access -->
    <customMetadataTypeAccesses>
        <enabled>true</enabled>
        <name>ALC_Stage_Config__mdt</name>
    </customMetadataTypeAccesses>
    
    <!-- ALC Object Field Permissions -->
    <fieldPermissions>
        <editable>false</editable>
        <field>ALC__c.Agency__c</field>
        <readable>true</readable>
    </fieldPermissions>
    <fieldPermissions>
        <editable>true</editable>
        <field>ALC__c.Stage__c</field>
        <readable>true</readable>
    </fieldPermissions>
    <fieldPermissions>
        <editable>false</editable>
        <field>ALC__c.Candidate__c</field>
        <readable>true</readable>
    </fieldPermissions>
    <fieldPermissions>
        <editable>false</editable>
        <field>ALC__c.Related_Candidate__c</field>
        <readable>true</readable>
    </fieldPermissions>
    <fieldPermissions>
        <editable>false</editable>
        <field>ALC__c.Contact__c</field>
        <readable>true</readable>
    </fieldPermissions>
    <fieldPermissions>
        <editable>false</editable>
        <field>ALC__c.Contract_Type__c</field>
        <readable>true</readable>
    </fieldPermissions>
    
    <!-- Candidate Object Field Permissions -->
    <fieldPermissions>
        <editable>false</editable>
        <field>Candidate__c.First_Name__c</field>
        <readable>true</readable>
    </fieldPermissions>
    <fieldPermissions>
        <editable>false</editable>
        <field>Candidate__c.Last_Name__c</field>
        <readable>true</readable>
    </fieldPermissions>
    <fieldPermissions>
        <editable>false</editable>
        <field>Candidate__c.Sales_Manager__c</field>
        <readable>true</readable>
    </fieldPermissions>
    <!-- Contact field permissions (read-only) placed before object permissions -->
    <!-- Omit Contact.FirstName/LastName: not FLS-configurable -->
    <fieldPermissions>
        <editable>false</editable>
        <field>Contact.Email</field>
        <readable>true</readable>
    </fieldPermissions>
    <fieldPermissions>
        <editable>false</editable>
        <field>Contact.MobilePhone</field>
        <readable>true</readable>
    </fieldPermissions>
    <fieldPermissions>
        <editable>false</editable>
        <field>Contact.HomePhone</field>
        <readable>true</readable>
    </fieldPermissions>
    <!-- Omit Mailing address components: not deployable in this org config -->
    <fieldPermissions>
        <editable>false</editable>
        <field>Contact.Personal_Email__c</field>
        <readable>true</readable>
    </fieldPermissions>
    
    <!-- Object Permissions -->
    <objectPermissions>
        <allowCreate>false</allowCreate>
        <allowDelete>false</allowDelete>
        <allowEdit>true</allowEdit>
        <allowRead>true</allowRead>
        <modifyAllRecords>false</modifyAllRecords>
        <object>ALC__c</object>
        <viewAllRecords>false</viewAllRecords>
    </objectPermissions>
    <objectPermissions>
        <allowCreate>false</allowCreate>
        <allowDelete>false</allowDelete>
        <allowEdit>false</allowEdit>
        <allowRead>true</allowRead>
        <modifyAllRecords>false</modifyAllRecords>
        <object>Candidate__c</object>
        <viewAllRecords>false</viewAllRecords>
    </objectPermissions>
    <objectPermissions>
        <allowCreate>true</allowCreate>
        <allowDelete>false</allowDelete>
        <allowEdit>true</allowEdit>
        <allowRead>true</allowRead>
        <modifyAllRecords>false</modifyAllRecords>
        <object>Task</object>
        <viewAllRecords>false</viewAllRecords>
    </objectPermissions>
    <objectPermissions>
        <allowCreate>true</allowCreate>
        <allowDelete>false</allowDelete>
        <allowEdit>true</allowEdit>
        <allowRead>true</allowRead>
        <modifyAllRecords>false</modifyAllRecords>
        <object>Event</object>
        <viewAllRecords>false</viewAllRecords>
    </objectPermissions>
    <objectPermissions>
        <allowCreate>false</allowCreate>
        <allowDelete>false</allowDelete>
        <allowEdit>false</allowEdit>
        <allowRead>true</allowRead>
        <modifyAllRecords>false</modifyAllRecords>
        <object>ContentNote</object>
        <viewAllRecords>false</viewAllRecords>
    </objectPermissions>
    <!-- Contact object access for rendering contact details on ALC pages -->
    <objectPermissions>
        <allowCreate>false</allowCreate>
        <allowDelete>false</allowDelete>
        <allowEdit>false</allowEdit>
        <allowRead>true</allowRead>
        <modifyAllRecords>false</modifyAllRecords>
        <object>Contact</object>
        <viewAllRecords>false</viewAllRecords>
    </objectPermissions>

</PermissionSet>
